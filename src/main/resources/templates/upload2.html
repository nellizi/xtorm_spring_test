<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<script>

function ajax_upload(){
var formData = new FormData($('#createForm')[0]);

$.ajax({
	type: 'POST',
	enctype: 'multipart/form-data',
	url: '/multipartUpload.do',
	data: formData,
	processData: false,
	contentType: false,
	cache: false,
	success: function (result) {
	    console.log("ajax 업로드 성공");
	    alert("파일 업로드 성공.");
	},
	error: function (e) {
	}
});

}


function ajax_download(){
var formData = new FormData($('#downloadForm')[0]);

$.ajax({
	type: 'POST',
	enctype: 'multipart/form-data',
	url: '/multipartDownload.do',
	data: formData,
	processData: false,
	contentType: false,
	cache: false,
	success: function (result) {
	    console.log("ajax 다운로드 성공");
	    alert("파일 다운로드 성공.");
	},
	error: function (e) {
	}
});

}

function ajax_delete(){
var formData = new FormData($('#deleteForm')[0]);

$.ajax({
	type: 'POST',
	enctype: 'multipart/form-data',
	url: '/multipartDelete.do',
	data: formData,
	processData: false,
	contentType: false,
	cache: false,
	success: function (result) {
	    console.log("ajax 삭제 성공");
	    alert("파일 삭제 성공.");
	},
	error: function (e) {
	}
});

}

</script>

<body>
<h2>XTORM API TEST ajax.ver</h2>

<!--파일업로드 ajax version -->
<form id="createForm" enctype="multipart/form-data" onsubmit="ajax_upload();">
    <input type="file" name="file" multiple="true" >
    <input type="submit" value="올리기"/>
</form>
&nbsp; &nbsp; &nbsp;
<form id="downloadForm" enctype="multipart/form-data" onsubmit="ajax_download();">
    <input type="file" name="file" multiple="true" >
    <input type="submit" value="다운로드"/>
</form>
&nbsp; &nbsp; &nbsp;
<form id="deleteForm" enctype="multipart/form-data" onsubmit="ajax_delete();">
    <input type="file" name="file" multiple="true" >
    <input type="submit" value="삭제"/>
</form>


</body>
</html>